-- Добавление базовых услуг для демонстрации
-- Сначала получаем ID первого салона или создаем тестовый салон
DO $$
DECLARE
    salon_uuid UUID;
BEGIN
    -- Проверяем, есть ли салоны
    SELECT id INTO salon_uuid FROM public.salons LIMIT 1;
    
    -- Если салонов нет, создаем тестовый
    IF salon_uuid IS NULL THEN
        INSERT INTO public.salons (name, description, address, phone, email)
        VALUES ('Салон груминга "Лапки"', 'Профессиональный груминг для ваших питомцев', 'г. Москва, ул. Примерная, д. 1', '+7 (495) 123-45-67', 'info@lapki-salon.ru')
        RETURNING id INTO salon_uuid;
    END IF;
    
    -- Добавляем базовые услуги
    INSERT INTO public.services (salon_id, name, description, duration_minutes, price, category, is_active) VALUES
    (salon_uuid, 'Полный комплекс груминга', 'Мытье, стрижка, сушка, обрезание когтей', 120, 3500, 'Груминг', true),
    (salon_uuid, 'Гигиеническая стрижка', 'Стрижка гигиенических зон, обрезание когтей', 60, 1500, 'Груминг', true),
    (salon_uuid, 'Мытье и сушка', 'Мытье специальными шампунями и сушка', 45, 800, 'Груминг', true),
    (salon_uuid, 'Стрижка когтей', 'Обрезание и обработка когтей', 15, 300, 'Груминг', true),
    (salon_uuid, 'Чистка ушей', 'Профессиональная чистка ушей', 15, 250, 'Груминг', true),
    (salon_uuid, 'Экспресс-груминг', 'Быстрый комплекс для поддержания внешнего вида', 30, 900, 'Груминг', true),
    (salon_uuid, 'Креативная стрижка', 'Модельная стрижка с элементами креатива', 150, 5000, 'Стрижки', true),
    (salon_uuid, 'Стрижка "под машинку"', 'Короткая стрижка машинкой', 30, 1200, 'Стрижки', true),
    (salon_uuid, 'SPA-процедуры', 'Расслабляющие процедуры для питомца', 90, 2500, 'SPA', true),
    (salon_uuid, 'Удаление колтунов', 'Профессиональное удаление колтунов', 60, 1800, 'Дополнительно', true);
END $$;